<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>旅行規劃器 - 我的旅程</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- HIGHLIGHT: GOOGLE MAPS API START -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaoU4qICEMFvEGY2AdoCUP-nlVjBj3bSM&callback=initMap" async defer></script>
    <!-- HIGHLIGHT: GOOGLE MAPS API END -->
</head>
<body>
    <div class="app-container">
        <!-- 頂部標題區域 - 重新設計佈局 -->
        <header class="header">
            <div class="title-container">
                <h1 id="trip-title" contenteditable="true">我的泰國之旅 🐘</h1>
            </div>
            
            <div class="info-bar">
                <div class="exchange-rate">
                    <i class="fas fa-money-bill-wave"></i>
                    <span id="exchange-rate">1 港幣 = -- 泰銖</span>
                </div>
                
                <div class="weather">
                    <i class="fas fa-sun"></i>
                    <span id="weather-info">曼谷: --°C</span>
                </div>
            </div>
        </header>

        <!-- 主要內容區域 -->
        <main class="main-content">
            <!-- 行程頁面 -->
            <section id="home-page" class="page active">
                <div class="itinerary-header">
                    <h2><i class="fas fa-route"></i> 旅程行程 🗺️</h2>
                    <button id="add-activity" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加活動
                    </button>
                </div>
                <div class="itinerary-container">
                    <div class="empty-state">
                        <i class="fas fa-route fa-3x"></i>
                        <h3>尚未添加任何行程</h3>
                        <p>點擊"添加活動"按鈕開始規劃您的旅程</p>
                    </div>
                </div>
            </section>

            <!-- 地圖頁面 -->
            <section id="map-page" class="page">
                <div class="map-header">
                    <h2><i class="fas fa-map-marked-alt"></i> 旅程地圖 🌏</h2>
                    <div class="map-controls">
                        <button id="show-route" class="btn-secondary">
                            <i class="fas fa-directions"></i> 顯示路線
                        </button>
                        <div class="travel-time">
                            <i class="fas fa-car"></i>
                            <span id="total-travel-time">總時間: -- 分鐘</span>
                        </div>
                    </div>
                </div>
                <div id="map-container">
                    <div id="map">
                        <div class="map-loading">
                            <i class="fas fa-map-marked-alt fa-spin fa-3x"></i>
                            <p>地圖加載中...</p>
                        </div>
                    </div>
                    <div class="map-sidebar">
                        <h3><i class="fas fa-map-pin"></i> 地點清單 📍</h3>
                        <ul id="locations-list">
                            <li class="empty">尚未添加地點</li>
                        </ul>
                        <div class="rental-locations">
                            <h4><i class="fas fa-car"></i> 租車資訊 🚗</h4>
                            <div class="rental-item">
                                <strong>取車地點:</strong> <span id="pickup-location">--</span>
                            </div>
                            <div class="rental-item">
                                <strong>還車地點:</strong> <span id="return-location">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 日記頁面 -->
            <section id="diary-page" class="page">
                <div class="diary-header">
                    <h2><i class="fas fa-book"></i> 旅行日記 📖</h2>
                    <button id="add-diary-entry" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加日記
                    </button>
                </div>
                <div class="diary-container">
                    <div class="empty-state">
                        <i class="fas fa-book-open fa-3x"></i>
                        <h3>尚未撰寫日記</h3>
                        <p>記錄您的旅程點滴，添加第一則日記吧！</p>
                    </div>
                </div>
            </section>

            <!-- 消費頁面 -->
            <section id="budget-page" class="page">
                <div class="budget-header">
                    <h2><i class="fas fa-wallet"></i> 支出記錄 💰</h2>
                    <button id="add-budget-item" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加支出
                    </button>
                </div>
                <div class="budget-container">
                    <div class="empty-state">
                        <i class="fas fa-coins fa-3x"></i>
                        <h3>尚未記錄支出</h3>
                        <p>開始記錄您的旅行消費</p>
                    </div>
                </div>
                <div class="total-expenses">
                    <h3>總支出</h3>
                    <div class="amount" id="total-expenses">฿0</div>
                </div>
            </section>

            <!-- 資訊頁面 -->
            <section id="info-page" class="page">
                <div class="info-header">
                    <h2><i class="fas fa-info-circle"></i> 旅程資訊 📋</h2>
                </div>
                <div class="info-sections">
                    <!-- 航班資訊 -->
                    <div class="info-section">
                        <div class="section-header">
                            <h3><i class="fas fa-plane"></i> 航班細節 ✈️</h3>
                            <button class="btn-icon add-info-btn" data-section="flight">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="info-content" id="flight-info">
                            <div class="empty-state small">
                                <i class="fas fa-plane"></i>
                                <p>尚未添加航班資訊</p>
                            </div>
                        </div>
                    </div>

                    <!-- 酒店資訊 -->
                    <div class="info-section">
                        <div class="section-header">
                            <h3><i class="fas fa-hotel"></i> 酒店資訊 🏨</h3>
                            <button class="btn-icon add-info-btn" data-section="hotel">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="info-content" id="hotel-info">
                            <div class="empty-state small">
                                <i class="fas fa-hotel"></i>
                                <p>尚未添加酒店資訊</p>
                            </div>
                        </div>
                    </div>

                    <!-- 租車資訊 -->
                    <div class="info-section">
                        <div class="section-header">
                            <h3><i class="fas fa-car"></i> 租車資訊 🚗</h3>
                            <button class="btn-icon add-info-btn" data-section="car">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="info-content" id="car-info">
                            <div class="empty-state small">
                                <i class="fas fa-car"></i>
                                <p>尚未添加租車資訊</p>
                            </div>
                        </div>
                    </div>

                    <!-- 其他資訊 -->
                    <div class="info-section">
                        <div class="section-header">
                            <h3><i class="fas fa-ellipsis-h"></i> 其他資訊 📝</h3>
                            <button class="btn-icon add-info-btn" data-section="other">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="info-content" id="other-info">
                            <div class="empty-state small">
                                <i class="fas fa-sticky-note"></i>
                                <p>尚未添加其他資訊</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 底部導航欄 - 已修復固定位置 -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="home-page">
                <i class="fas fa-home"></i>
                <span>行程</span>
            </button>
            <button class="nav-btn" data-page="map-page">
                <i class="fas fa-map"></i>
                <span>地圖</span>
            </button>
            <button class="nav-btn" data-page="diary-page">
                <i class="fas fa-book"></i>
                <span>日記</span>
            </button>
            <button class="nav-btn" data-page="budget-page">
                <i class="fas fa-wallet"></i>
                <span>消費</span>
            </button>
            <button class="nav-btn" data-page="info-page">
                <i class="fas fa-info-circle"></i>
                <span>資訊</span>
            </button>
        </nav>

        <!-- 彈出視窗 -->
        <div id="activity-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>添加活動</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="activity-form">
                        <div class="form-group">
                            <label for="activity-date">日期</label>
                            <input type="date" id="activity-date" required>
                        </div>
                        <div class="form-group">
                            <label for="activity-name">活動名稱</label>
                            <input type="text" id="activity-name" placeholder="例如：參觀大皇宮" required>
                        </div>
                        <div class="form-group">
                            <label for="activity-time">時間 (可選)</label>
                            <input type="time" id="activity-time" placeholder="可選">
                        </div>
                        <div class="form-group">
                            <label for="activity-location">地點</label>
                            <input type="text" id="activity-location" placeholder="例如：曼谷，泰國">
                        </div>
                        <div class="form-group">
                            <label for="activity-notes">備註 (可選)</label>
                            <textarea id="activity-notes" placeholder="添加備註、YouTube 連結或其他資訊"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">保存活動</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="diary-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>添加日記條目</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="diary-form">
                        <div class="form-group">
                            <label for="diary-date">日期</label>
                            <input type="date" id="diary-date" required>
                        </div>
                        <div class="form-group">
                            <label for="diary-title">標題</label>
                            <input type="text" id="diary-title" placeholder="日記標題" required>
                        </div>
                        <div class="form-group">
                            <label for="diary-content">內容</label>
                            <textarea id="diary-content" rows="5" placeholder="寫下您的一天..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="diary-image">圖片連結 (可選)</label>
                            <input type="text" id="diary-image" placeholder="貼上圖片連結">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">保存條目</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="budget-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>添加支出項目</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="budget-form">
                        <div class="form-group">
                            <label for="budget-category">類別</label>
                            <select id="budget-category" required>
                                <option value="">選擇類別</option>
                                <option value="food">飲食 🍜</option>
                                <option value="shopping">購物 🛍️</option>
                                <option value="leisure">娛樂 🎭</option>
                                <option value="transport">交通 🚕</option>
                                <option value="accommodation">住宿 🏨</option>
                                <option value="other">其他</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="budget-description">描述</label>
                            <input type="text" id="budget-description" placeholder="例如：餐廳晚餐" required>
                        </div>
                        <div class="form-group">
                            <label for="budget-amount">金額 (泰銖)</label>
                            <input type="number" id="budget-amount" min="0" step="1" required>
                        </div>
                        <div class="form-group">
                            <label for="budget-payment">支付方式</label>
                            <select id="budget-payment" required>
                                <option value="">選擇支付方式</option>
                                <option value="credit-card">信用卡 💳</option>
                                <option value="cash">現金 💵</option>
                                <option value="debit-card">轉帳卡</option>
                                <option value="e-wallet">電子錢包</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="budget-notes">備註 (可選)</label>
                            <textarea id="budget-notes" placeholder="添加任何備註"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">保存支出</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id="info-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="info-modal-title">添加資訊</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="info-form">
                        <div class="form-group">
                            <label for="info-type">資訊類型</label>
                            <select id="info-type" required>
                                <option value="">選擇類型</option>
                                <option value="flight">航班 ✈️</option>
                                <option value="hotel">酒店 🏨</option>
                                <option value="car">租車 🚗</option>
                                <option value="other">其他 📝</option>
                            </select>
                        </div>
                        <div id="info-form-fields">
                            <!-- 根據資訊類型動態添加表單字段 -->
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">保存資訊</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 裝飾元素 -->
    <div class="decoration-element lotus">🌸</div>
    <div class="decoration-element elephant">🐘</div>
    <div class="decoration-element palm">🌴</div>
    <div class="decoration-element wave">🌊</div>

    <script src="app.js"></script>
</body>
</html>
