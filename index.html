<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>旅行規劃器 - 我的旅程</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- IMPORTANT: Replace YOUR_GOOGLE_MAPS_API_KEY with your actual key -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap" async defer></script>
</head>
<body>
    <div class="app-container">
        <!-- 頂部標題區域 -->
        <!-- NEW & IMPROVED: 1. Header Alignment - Restructured for new layout -->
        <header class="header">
            <h1 id="trip-title" contenteditable="true">我的泰國之旅 🐘</h1>
            <div class="header-widgets">
                <div class="widget-card exchange-rate">
                    <i class="fas fa-money-bill-wave"></i>
                    <span id="exchange-rate">1 HKD = -- THB</span>
                </div>
                <div class="widget-card countdown-widget">
                    <i class="fas fa-calendar-alt"></i>
                    <span id="countdown">旅程倒數: -- 天</span>
                </div>
                <div class="widget-card weather">
                    <i class="fas fa-sun"></i>
                    <span id="weather-info">曼谷: --°C</span>
                </div>
            </div>
        </header>

        <!-- 主要內容區域 -->
        <main class="main-content">
            <!-- 行程頁面 -->
            <section id="home-page" class="page active">
                <div class="itinerary-header">
                    <h2><i class="fas fa-route"></i> 旅程行程 🗺️</h2>
                    <button id="add-activity" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加活動
                    </button>
                </div>
                <div class="itinerary-container">
                    <div class="empty-state">
                        <i class="fas fa-route fa-3x"></i>
                        <h3>尚未添加任何行程</h3>
                        <p>點擊"添加活動"按鈕開始規劃您的旅程</p>
                    </div>
                </div>
            </section>

            <!-- 地圖頁面 -->
            <section id="map-page" class="page">
                <div class="map-header">
                    <h2><i class="fas fa-map-marked-alt"></i> 旅程地圖 🌏</h2>
                    <!-- ... (map content remains the same) ... -->
                </div>
                <div id="map-container">
                    <div id="map">
                        <div class="map-loading">
                            <i class="fas fa-map-marked-alt fa-spin fa-3x"></i>
                            <p>地圖加載中...</p>
                        </div>
                    </div>
                    <div class="map-sidebar">
                        <h3><i class="fas fa-map-pin"></i> 地點清單 📍</h3>
                        <ul id="locations-list">
                            <li class="empty">尚未添加地點</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- 日記頁面 -->
            <section id="diary-page" class="page">
                 <div class="diary-header">
                    <h2><i class="fas fa-book"></i> 旅行日記 📖</h2>
                    <button id="add-diary-entry" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加日記
                    </button>
                </div>
                <div class="diary-container">
                    <!-- ... (diary content remains the same) ... -->
                </div>
            </section>

            <!-- 預算頁面 -->
            <section id="budget-page" class="page">
                <div class="budget-header">
                    <h2><i class="fas fa-wallet"></i> 預算規劃 💰</h2>
                    <button id="add-budget-item" class="btn-primary">
                        <i class="fas fa-plus"></i> 添加項目
                    </button>
                </div>
                <div class="budget-summary">
                    <!-- ... (budget content remains the same) ... -->
                </div>
                <div class="budget-container">
                    <!-- ... (budget content remains the same) ... -->
                </div>
            </section>

            <!-- 資訊頁面 -->
            <section id="info-page" class="page">
                <div class="info-header">
                    <h2><i class="fas fa-info-circle"></i> 旅程資訊 📋</h2>
                </div>
                <div class="info-sections">
                    <!-- ... (info content remains the same) ... -->
                </div>
            </section>
        </main>

        <!-- 底部導航欄 -->
        <!-- The nav bar structure is correct, the new CSS will make it fixed -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="home-page">
                <i class="fas fa-home"></i>
                <span>行程</span>
            </button>
            <button class="nav-btn" data-page="map-page">
                <i class="fas fa-map"></i>
                <span>地圖</span>
            </button>
            <button class="nav-btn" data-page="diary-page">
                <i class="fas fa-book"></i>
                <span>日記</span>
            </button>
            <button class="nav-btn" data-page="budget-page">
                <i class="fas fa-wallet"></i>
                <span>預算</span>
            </button>
            <button class="nav-btn" data-page="info-page">
                <i class="fas fa-info-circle"></i>
                <span>資訊</span>
            </button>
        </nav>

        <!-- All modals remain the same -->
        <div id="activity-modal" class="modal">
            <!-- ... -->
        </div>
        <div id="diary-modal" class="modal">
             <!-- ... -->
        </div>
        <div id="budget-modal" class="modal">
             <!-- ... -->
        </div>
        <div id="info-modal" class="modal">
             <!-- ... -->
        </div>
    </div>

    <!-- 裝飾元素 -->
    <div class="decoration-element lotus">🌸</div>
    <div class="decoration-element elephant">🐘</div>
    <div class="decoration-element palm">🌴</div>
    <div class="decoration-element wave">🌊</div>

    <script src="app.js"></script>
</body>
</html>
