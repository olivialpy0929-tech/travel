<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Thailand Trip ♡</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            pinky: '#FFE5D9',
            peach: '#FFAFCC',
            rose: '#FFC8DD',
            coral: '#FF8FAB',
            flamingo: '#FFB6C1'
          }
        }
      }
    }
  </script>
  <style>
    body { background: linear-gradient(135deg, #FFE5D9 0, #FFF0F5); min-height: 100vh; }
    .card { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px); }
    .timeline::before { content: ''; position: absolute; left: 18px; top: 0; bottom: 0; width: 4px; background: #FF8FAB; border-radius: 2px; }
    .map-container { height: 300px; border-radius: 1rem; overflow: hidden; }
    .line-through { text-decoration: line-through; }
  </style>
</head>
<body class="font-sans text-gray-800">
  <div id="app" class="max-w-md mx-auto min-h-screen flex flex-col pb-20">
    <!-- Header -->
    <header class="bg-gradient-to-r from-peach to-rose text-white p-5 shadow-lg">
      <div class="flex justify-between items-center">
        <div>
          <h1 class="text-2xl font-bold">Thailand Trip ♡</h1>
          <p class="text-sm opacity-90">{{ tripDates }}</p>
        </div>
        <div class="text-right text-sm">
          <p v-if="weather">{{ weather.name }} {{ weather.main.temp }}°C</p>
          <p>1 HKD ≈ {{ exchangeRate }} THB</p>
        </div>
      </div>
    </header>

    <main class="flex-1 p-5 overflow-y-auto">
      <!-- Home - Timeline Style -->
      <div v-if="page==='home'">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-coral mb-2">Our Journey</h2>
          <p class="text-rose">Every moment becomes a memory ♡</p>
        </div>

        <div class="relative timeline pl-12">
          <!-- Day 1 -->
          <div v-for="(day, i) in itinerary" :key="i" class="mb-8 flex">
            <div class="absolute left-0 w-10 h-10 bg-flamingo rounded-full flex items-center justify-center text-white font-bold shadow-lg">
              {{ i+1 }}
            </div>
            <div class="ml-6 flex-1 card p-5 rounded-2xl shadow-md">
              <h3 class="font-bold text-lg text-coral mb-2">Day {{ i+1 }} • {{ day.date }}</h3>
              <div v-for="(act, j) in day.activities" :key="j" class="flex items-start mb-3">
                <i :class="act.icon" class="mt-1 mr-3 text-rose"></i>
                <div class="flex-1">
                  <p class="font-semibold">{{ act.time }} {{ act.name }}</p>
                  <p class="text-sm text-gray-600">{{ act.location }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Buttons -->
        <div class="grid grid-cols-3 gap-4 mt-10">
          <button @click="page='map'" class="card p-4 rounded-2xl text-center shadow-md hover:scale-105 transition">
            <i class="fas fa-map-marked-alt text-2xl text-coral mb-2"></i>
            <p class="text-sm font-bold">Map</p>
          </button>
          <button @click="page='expenses'" class="card p-4 rounded-2xl text-center shadow-md hover:scale-105 transition">
            <i class="fas fa-receipt text-2xl text-coral mb-2"></i>
            <p class="text-sm font-bold">Expenses</p>
          </button>
          <button @click="page='packing'" class="card p-4 rounded-2xl text-center shadow-md hover:scale-105 transition">
            <i class="fas fa-suitcase-rolling text-2xl text-coral mb-2"></i>
            <p class="text-sm font-bold">Packing</p>
          </button>
        </div>
      </div>

      <!-- Map Page -->
      <div v-if="page==='map'" class="card p-5 rounded-2xl">
        <h2 class="text-2xl font-bold text-coral mb-4 text-center">Our Spots ♡</h2>
        <div id="map" class="map-container"></div>
      </div>

      <!-- Expenses Page -->
      <div v-if="page==='expenses'" class="card p-5 rounded-2xl">
        <h2 class="text-2xl font-bold text-coral mb-4 text-center">Expenses</h2>
        <div v-for="(e, i) in expenses" :key="i" class="flex justify-between py-2 border-b border-pink-200">
          <span>{{ e.desc }}</span>
          <span class="font-bold text-coral">{{ e.amount }} THB</span>
        </div>
        <div class="mt-6 text-xl font-bold text-center text-rose">
          Total: {{ totalExpenses }} THB
        </div>
      </div>

      <!-- Packing List -->
      <div v-if="page==='packing'" class="card p-5 rounded-2xl">
        <h2 class="text-2xl font-bold text-coral mb-4 text-center">Packing List</h2>
        <div v-for="(item, i) in packing" :key="i" class="flex items-center py-3">
          <input type="checkbox" v-model="item.done" class="w-6 h-6 text-coral rounded-full mr-4">
          <span :class="{ 'line-through text-gray-400': item.done }" class="flex-1">{{ item.name }}</span>
        </div>
      </div>
    </main>

    <!-- Bottom Nav -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t-2 border-pink-200 shadow-lg">
      <div class="max-w-md mx-auto flex justify-around py-3">
        <button @click="page='home'" :class="page==='home'?'text-coral':'text-gray-400'">
          <i class="fas fa-home text-2xl"></i>
        </button>
        <button @click="page='map'" :class="page==='map'?'text-coral':'text-gray-400'">
          <i class="fas fa-map-marked-alt text-2xl"></i>
        </button>
        <button @click="page='expenses'" :class="page==='expenses'?'text-coral':'text-gray-400'">
          <i class="fas fa-receipt text-2xl"></i>
        </button>
        <button @click="page='packing'" :class="page==='packing'?'text-coral':'text-gray-400'">
          <i class="fas fa-suitcase-rolling text-2xl"></i>
        </button>
      </div>
    </nav>
  </div>

  <script>
    const { createApp } = Vue
    createApp({
      data() {
        return {
          page: 'home',
          weather: null,
          exchangeRate: null,
          tripDates: '14-20 Dec 2025',
          itinerary: [
            { date: '14 Dec', activities: [
              { time: '08:00', name: 'Arrival BKK', location: 'Suvarnabhumi Airport', icon: 'fas fa-plane-arrival' },
              { time: '14:00', name: 'Check-in Hotel', location: 'Sukhumvit', icon: 'fas fa-hotel' },
              { time: '18:00', name: 'Asiatique Night Market', location: '', icon: 'fas fa-shopping-bag' }
            ]},
            { date: '15 Dec', activities: [
              { time: '09:00', name: 'Grand Palace', location: '', icon: 'fas fa-landmark' },
              { time: '13:00', name: 'Wat Arun', location: '', icon: 'fas fa-place-of-worship' },
              { time: '19:00', name: 'Chao Phraya Dinner Cruise', location: '', icon: 'fas fa-ship' }
            ]}
          ],
          expenses: [
            { desc: 'Flight', amount: 3200 },
            { desc: 'Hotel 6 nights', amount: 4800 },
            { desc: 'Food & Transport', amount: 1800 }
          ],
          packing: [
            { name: 'Passport & Visa copy', done: false },
            { name: 'Bikini & Sunscreen', done: false },
            { name: 'Power bank', done: false },
            { name: 'Medicine', done: false }
          ]
        }
      },
      computed: {
        totalExpenses() {
          return this.expenses.reduce((a, b) => a + b.amount, 0)
        }
      },
      mounted() {
        // Exchange rate
        fetch('https://api.exchangerate.host/latest?base=HKD&symbols=THB')
          .then(r => r.json())
          .then(d => this.exchangeRate = d.rates.THB.toFixed(2))
          .catch(() => this.exchangeRate = 'N/A')

        // Weather (Bangkok)
        fetch('https://api.openweathermap.org/data/2.5/weather?q=Bangkok&appid=YOUR_KEY&units=metric')
          .then(r => r.json())
          .then(d => this.weather = d)
          .catch(() => this.weather = { name: 'Bangkok', main: { temp: 30 } })

        // Map
        setTimeout(() => {
          const map = L.map('map').setView([13.7563, 100.5018], 11)
          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map)
          this.itinerary.forEach(day => {
            day.activities.forEach(a => {
              if (a.lat && a.lon) {
                L.marker([a.lat, a.lon]).addTo(map).bindPopup(a.name)
              }
            })
          })
        }, 500)
      }
    }).mount('#app')
  </script>
</body>
</html>
